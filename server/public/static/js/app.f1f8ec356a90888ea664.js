webpackJsonp([1],{"0Kn4":function(t,e){},"6BD3":function(t,e){},"7jBn":function(t,e){},"8ssE":function(t,e){},"9rFO":function(t,e){},CB3V:function(t,e){},"Edg+":function(t,e){},FVK0:function(t,e){},Ggjv:function(t,e){},IUdP:function(t,e){},KPlA:function(t,e){},LDFW:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("C/JF"),o=s("fhbW"),a=s("1e6/"),r=s("cTzj"),i=s.n(r),c=s("7+uW"),u=s("Dd8w"),d=s.n(u),l=(s("uMhA"),s("NYxO")),m={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"profile-img"})},staticRenderFns:[]};var p={name:"MainNav",components:{ProfilePhoto:s("VU/8")({name:"ProfilePhoto"},m,!1,function(t){s("IUdP")},"data-v-38cec79c",null).exports},computed:d()({},Object(l.c)(["isLoggedIn","user"])),methods:d()({},Object(l.b)(["logout"]))},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"nav"},[s("div",{staticClass:"nav-container"},[s("span",{staticClass:"nav-brand nav-item"},[s("router-link",{attrs:{to:"/"}},[t._v("BBMB")])],1),t._v(" "),t.user?s("ProfilePhoto",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.user.photo?"/api/photos/"+t.user.photo:null,expression:"user.photo ? `/api/photos/${user.photo}` : null",arg:"background-image"}],staticClass:"nav-item profile-img-sm",style:{backgroundImage:!t.user.photo&&"url('/static/images/auth/error.png')",backgroundSize:"cover"}}):t._e(),t._v(" "),t.isLoggedIn?s("button",{staticClass:"nav-button nav-item",on:{click:t.logout}},[t._v("Log Out")]):t._e(),t._v(" "),t.isLoggedIn?t._e():s("router-link",{staticClass:"nav-item",attrs:{to:"/login"}},[t._v("Log In")]),t._v(" "),t.isLoggedIn?t._e():s("router-link",{staticClass:"nav-item",attrs:{to:"/signup"}},[t._v("Sign Up")])],1)])},staticRenderFns:[]};var h={name:"App",components:{MainNav:s("VU/8")(p,v,!1,function(t){s("Xzzc")},null,null).exports},created:function(){this.getCurrentUser()},methods:d()({},Object(l.b)(["getCurrentUser"]))},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("MainNav"),this._v(" "),e("keep-alive",{attrs:{include:"CategoryPosts"}},[e("router-view")],1)],1)},staticRenderFns:[]};var f=s("VU/8")(h,g,!1,function(t){s("wZbz")},null,null).exports,b=s("/ocq"),C=s("Xxa5"),_=s.n(C),k=s("exGp"),y=s.n(k),x=s("mtWM"),P=s.n(x),w=s("PJh5"),j=s.n(w),E={name:"PostListItem",props:["post","index"],data:function(){return{liking:!1}},computed:d()({},Object(l.c)(["token","isLoggedIn"]),{date:function(){return j()(this.post.createdAt).format("MMMM D, YYYY")}}),methods:{likePost:function(){var t=this;return y()(_.a.mark(function e(){var s,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.liking||!t.isLoggedIn){e.next=9;break}return t.liking=!0,e.next=5,P()({method:"PATCH",url:"/api/posts/"+t.post._id+"/like",headers:{authorization:t.token}});case 5:s=e.sent,n=s.data,t.$emit("like",{index:t.index,updatedPost:n}),t.liking=!1;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.liking=!1;case 14:case"end":return e.stop()}},e,t,[[0,11]])}))()}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-list-item"},[s("div",{staticClass:"likes"},[s("font-awesome-icon",{staticClass:"sun",class:{spin:t.liking},attrs:{icon:"sun"},on:{click:t.likePost}}),t._v(" "),s("span",{staticClass:"like-count"},[t._v(t._s(t.post.likesCount))])],1),t._v(" "),s("div",{staticClass:"post-info"},[s("router-link",{staticClass:"post-link",attrs:{to:"/posts/"+t.post._id}},[s("h3",[t._v(t._s(t.post.title))])]),t._v(" "),s("span",{staticClass:"post-data"},[t._v(t._s(t.date)+" by "+t._s(t.post.author.username))])],1)])},staticRenderFns:[]};var F=s("VU/8")(E,S,!1,function(t){s("hAGL")},"data-v-8190868c",null).exports,M={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sk-fading-circle"},[s("div",{staticClass:"sk-circle1 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle2 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle3 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle4 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle5 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle6 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle7 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle8 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle9 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle10 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle11 sk-circle"}),t._v(" "),s("div",{staticClass:"sk-circle12 sk-circle"})])}]};var I=s("VU/8")({name:"Spinner"},M,!1,function(t){s("LDFW")},"data-v-7907ddc0",null).exports,L={name:"Category",components:{PostListItem:F,Spinner:I},created:function(){this.getPosts()},data:function(){return{posts:null,error:""}},props:["category","src"],methods:{getPosts:function(){var t=this;return y()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P()({method:"GET",url:"/api/posts/category/"+t.category+"/recent"});case 3:s=e.sent,t.posts=s.data,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t.posts=[],t.error="Something went wrong while getting "+t.category+" posts";case 11:case"end":return e.stop()}},e,t,[[0,7]])}))()},updateLikes:function(t){var e=t.index,s=t.updatedPost;c.a.set(this.posts,e,s)}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"category"},[s("header",[s("h2",[t._v(t._s(t.category))]),t._v(" "),s("img",{attrs:{src:t.src,alt:"",height:"150px"}})]),t._v(" "),s("div",{staticClass:"posts"},[t.posts&&t.posts.length?s("div",{staticClass:"posts-list"},t._l(t.posts,function(e,n){return s("PostListItem",{key:e._id,staticClass:"recent",attrs:{index:n,post:e},on:{like:t.updateLikes}})}),1):t._e(),t._v(" "),t.posts&&!t.posts.length?s("p",{staticClass:"center"},[t._v("No posts yet.")]):t._e(),t._v(" "),null===t.posts?s("Spinner",{staticClass:"center"}):t._e()],1),t._v(" "),s("router-link",{staticClass:"see-more",attrs:{to:"/posts/category/"+t.category}},[t._v("See More")])],1)},staticRenderFns:[]};var U={name:"Home",components:{Category:s("VU/8")(L,T,!1,function(t){s("FVK0")},"data-v-942debe8",null).exports}},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"page"}},[e("div",{staticClass:"container categories"},[e("Category",{attrs:{category:"discussion",src:"/static/images/categories/discussion.png"}}),this._v(" "),e("Category",{attrs:{category:"media",src:"/static/images/categories/media.png"}}),this._v(" "),e("Category",{attrs:{category:"events",src:"/static/images/categories/events.png"}}),this._v(" "),e("Category",{attrs:{category:"tour",src:"/static/images/categories/tour.png"}})],1)])},staticRenderFns:[]};var A=s("VU/8")(U,B,!1,function(t){s("mNyf")},"data-v-3ae1e29e",null).exports,z={name:"SlideShow",data:function(){var t=["/static/images/auth/beachBoys1964.jpg","/static/images/auth/beachBoysRehearsal.jpg","/static/images/auth/edSullivanShow.jpg","/static/images/auth/mikeBrianWriting.jpg","/static/images/auth/petSoundsSinging.jpg"];return{images:t,imageIndex:Math.floor(Math.random()*t.length)}},created:function(){this.startRotation()},beforeDestroy:function(){clearInterval(this.timer)},methods:{startRotation:function(){this.timer=setInterval(this.next,8e3)},next:function(){this.imageIndex>=this.images.length-1?this.imageIndex=0:this.imageIndex+=1}}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slideshow"},t._l(t.images,function(e,n){return s("div",{key:e,staticClass:"slide",class:{fadein:n===t.imageIndex,fadeout:n===t.imageIndex-1||n===t.images.length-1&&0===t.imageIndex},style:{backgroundImage:"url("+e+")"}})}),0)},staticRenderFns:[]};var O={name:"Auth",components:{SlideShow:s("VU/8")(z,R,!1,function(t){s("CB3V")},"data-v-b511af62",null).exports},data:function(){return{randomNumer:Math.floor(3*Math.random())}}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main",{staticClass:"auth full-screen"},[e("div",{staticClass:"auth-form-container",class:{beach:0===this.randomNumer,city:1===this.randomNumer,farm:2===this.randomNumer}},[e("router-view")],1),this._v(" "),e("SlideShow")],1)},staticRenderFns:[]};var $=s("VU/8")(O,D,!1,function(t){s("ZbrP")},"data-v-97e050c0",null).exports,N={name:"FormInput",props:["type","value","placeholder"],methods:d()({},Object(l.d)(["setError"]),{handleInput:function(t){this.$emit("input",t.target.value),this.setError("")}})},V={render:function(){var t=this.$createElement;return(this._self._c||t)("input",{attrs:{type:this.type,placeholder:this.placeholder},domProps:{value:this.value},on:{input:this.handleInput}})},staticRenderFns:[]};var H=s("VU/8")(N,V,!1,function(t){s("Ggjv")},"data-v-218e6b8a",null).exports,q={name:"ErrorMessage",computed:d()({},Object(l.c)(["error"]))},Y={render:function(){var t=this.$createElement,e=this._self._c||t;return this.error?e("p",{staticClass:"error"},[this._v(this._s(this.error))]):this._e()},staticRenderFns:[]};var G=s("VU/8")(q,Y,!1,function(t){s("RTw8")},"data-v-504676b0",null).exports,W={name:"LogInForm",components:{FormInput:H,ErrorMessage:G,Spinner:I},data:function(){return{username:"",password:""}},beforeDestroy:function(){this.setError("")},computed:d()({},Object(l.c)(["isAuthLoading"])),methods:d()({},Object(l.b)(["login"]),Object(l.d)(["setError"]),{onSubmit:function(){this.login({username:this.username,password:this.password})}})},X={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("h1",[t._v("Welcome Back!")]),t._v(" "),s("h4",[t._v("Log In")]),t._v(" "),s("ErrorMessage",{staticClass:"text-center"}),t._v(" "),s("FormInput",{attrs:{type:"text",placeholder:"Username",disabled:t.isAuthLoading},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("FormInput",{attrs:{type:"password",placeholder:"Password",disabled:t.isAuthLoading},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("button",{staticClass:"btn blue",attrs:{type:"submit",disabled:t.isAuthLoading}},[t.isAuthLoading?s("Spinner",{staticClass:"btn-spinner"}):t._e(),t._v("Log In\n  ")],1)],1)},staticRenderFns:[]};var K=s("VU/8")(W,X,!1,function(t){s("OuCD")},"data-v-533533c9",null).exports,Z={name:"SignUpForm",components:{FormInput:H,ErrorMessage:G,Spinner:I},data:function(){return{username:"",password:"",confirmPassword:""}},beforeDestroy:function(){this.setError("")},computed:d()({},Object(l.c)(["isAuthLoading"])),methods:d()({},Object(l.b)(["signup"]),Object(l.d)(["setError"]),{onSubmit:function(){this.signup({username:this.username,password:this.password,confirmPassword:this.confirmPassword})}})},J={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("h1",[t._v("Catch a wave!")]),t._v(" "),s("h4",[t._v("Sign Up")]),t._v(" "),s("ErrorMessage",{staticClass:"text-center"}),t._v(" "),s("FormInput",{attrs:{type:"text",placeholder:"Username",disabled:t.isAuthLoading},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),s("FormInput",{attrs:{type:"password",placeholder:"Password",maxlength:"50",disabled:t.isAuthLoading},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("FormInput",{attrs:{type:"password",placeholder:"Confirm Password",maxlength:"50",disabled:t.isAuthLoading},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),t._v(" "),s("button",{staticClass:"btn blue",attrs:{type:"submit",disabled:t.isAuthLoading}},[t.isAuthLoading?s("Spinner",{staticClass:"btn-spinner"}):t._e(),t._v("Sign Up\n  ")],1)],1)},staticRenderFns:[]};var Q=s("VU/8")(Z,J,!1,function(t){s("7jBn")},"data-v-aa2fe7e4",null).exports,tt={name:"CategoryPosts",components:{PostListItem:F},data:function(){return{category:this.$route.params.category,scrollTopPosition:0}},mounted:function(){this.getPosts(this.category)},computed:d()({},Object(l.c)(["posts"])),methods:d()({},Object(l.b)(["resetPostsData","getPosts"]),Object(l.d)(["updatePostAtIndex"]),{scroll:function(){var t=this,e=document.getElementById("page");e.onscroll=function(){var s=e.clientHeight,n=e.scrollTop,o=1.25*s+n>=e.scrollHeight;t.scrollTopPosition=n,o&&t.getPosts(t.category)}}}),activated:function(){this.category!==this.$route.params.category?(this.resetPostsData(),this.category=this.$route.params.category,this.scrollTopPosition=0,this.getPosts(this.category)):document.getElementById("page").scrollTop=this.scrollTopPosition;this.scroll()},deactivated:function(){window.onscroll=null}},et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"page"}},[s("div",{staticClass:"container"},[s("nav",{staticClass:"secondary-nav"},[s("span",{staticClass:"brand"},[t._v(t._s(t.category))]),t._v(" "),s("router-link",{staticClass:"btn border blue sm",attrs:{to:"/posts/category/"+t.category+"/create"}},[t._v("\n        Create New Post\n      ")])],1),t._v(" "),t._l(t.posts,function(e,n){return s("PostListItem",{key:e._id,attrs:{post:e,index:n},on:{like:t.updatePostAtIndex}})})],2)])},staticRenderFns:[]},st=s("VU/8")(tt,et,!1,null,null,null).exports,nt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown-container"},[s("font-awesome-icon",{ref:"dropdown-button",staticClass:"dropdown-button",attrs:{icon:"ellipsis-v"},on:{click:function(e){t.showMenu=!0}}}),t._v(" "),t.showMenu?s("ul",{directives:[{name:"closable",rawName:"v-closable",value:{exclude:["dropdown-button"],handler:"closeMenu"},expression:"{\n      exclude: ['dropdown-button'],\n      handler: 'closeMenu'\n    }"}],staticClass:"dropdown-menu",on:{click:function(e){t.showMenu=!1}}},t._l(t.filteredControls,function(e){return s("li",{key:e.text,staticClass:"dropdown-menu-item",on:{click:e.action}},[t._v("\n      "+t._s(e.text)+"\n    ")])}),0):t._e()],1)},staticRenderFns:[]};var ot=s("VU/8")({name:"DropDownMenu",props:["controls","index"],data:function(){return{showMenu:!1}},computed:{filteredControls:function(){return this.controls.filter(function(t){return t.show})}},methods:{closeMenu:function(){this.showMenu=!1}}},nt,!1,function(t){s("OW9/")},"data-v-5521cc47",null).exports,at={name:"FormInput",props:["type","value","placeholder","onBlur"],mounted:function(){this.$refs.textarea.focus()},methods:d()({},Object(l.d)(["setError"]),{handleInput:function(t){this.$emit("input",t.target.value),this.setError("")}})},rt={render:function(){var t=this.$createElement;return(this._self._c||t)("textarea",{ref:"textarea",attrs:{placeholder:this.placeholder},domProps:{value:this.value},on:{input:this.handleInput}})},staticRenderFns:[]};var it=s("VU/8")(at,rt,!1,function(t){s("0Kn4")},"data-v-0514527a",null).exports,ct={name:"Reply",components:{TextArea:it,Spinner:I,DropDownMenu:ot},props:["reply","index","commentIndex","token","belongsToUser","commentId","displayModal"],data:function(){return{liking:!1,body:this.reply.body,edit:!1,saving:!1,deleting:!1}},computed:{date:function(){return j()(this.reply.createdAt).format("MMMM D, YYYY")}},methods:{editReply:function(){var t=this;return y()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.body||!t.belongsToUser||t.saving){e.next=9;break}return t.saving=!0,e.next=5,P()({method:"PATCH",url:"/api/posts/"+t.$route.params.postId+"/comments/"+t.commentId+"/replies/"+t.reply._id,headers:{authorization:t.token},data:{body:t.body}});case 5:s=e.sent,t.$emit("updateComment",{index:t.commentIndex,updatedComment:s.data}),t.saving=!1,t.edit=!1;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.saving=!1;case 14:case"end":return e.stop()}},e,t,[[0,11]])}))()},deleteReply:function(){var t=this;return y()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.deleting=!0,e.next=4,P()({method:"DELETE",url:"/api/posts/"+t.$route.params.postId+"/comments/"+t.commentId+"/replies/"+t.reply._id,headers:{authorization:t.token}});case 4:t.$emit("removeReply",t.index),t.deleting=!1,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.deleting=!1;case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},toggleEdit:function(){this.edit=!this.edit},toggleReplying:function(){this.replying=!this.replying}}},ut={render:function(){var t=this,e=this,s=e.$createElement,n=e._self._c||s;return n("div",{staticClass:"reply",class:{first:0===e.index}},[n("header",[n("span",{staticClass:"username"},[e._v(e._s(e.reply.author.username))]),e._v(" "),n("span",{staticClass:"date"},[e._v(e._s(e.date))]),e._v(" "),e.belongsToUser?n("drop-down-menu",{staticClass:"control-menu",attrs:{controls:[{text:"Edit",action:function(){t.edit=!0,t.replying=!1},show:e.belongsToUser},{text:"Delete",action:function(){t.displayModal({message:"Are you sure you want to delete this Reply?",btnText:"Delete",btnColor:"red",action:e.deleteReply})},show:e.belongsToUser}]}}):e._e()],1),e._v(" "),n("main",[e.edit?n("text-area",{staticClass:"textarea",model:{value:e.body,callback:function(t){e.body=t},expression:"body"}}):e._e(),e._v(" "),e.edit?n("button",{staticClass:"btn border blue sm",on:{click:e.toggleEdit}},[e._v("\n      Cancel\n    ")]):e._e(),e._v(" "),e.edit?n("button",{staticClass:"btn border green sm",attrs:{disabled:e.saving},on:{click:e.editReply}},[e.saving?n("Spinner",{staticClass:"btn-spinner green"}):e._e(),e._v("\n      Save\n    ")],1):n("div",{staticClass:"body"},[e._v(e._s(e.reply.body))])],1)])},staticRenderFns:[]};var dt={name:"Comment",components:{DropDownMenu:ot,TextArea:it,Spinner:I,Reply:s("VU/8")(ct,ut,!1,function(t){s("bSld")},"data-v-6be06606",null).exports},props:["comment","index","token","belongsToUser","userId","displayModal"],data:function(){return{liking:!1,body:this.comment.body,edit:!1,saving:!1,replying:!1,replyBody:"",showReplies:!1,deleting:!1}},watch:{edit:function(){this.body=this.comment.body}},computed:{date:function(){return j()(this.comment.createdAt).format("MMMM D, YYYY")}},methods:{likeComment:function(){var t=this;return y()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.liking||!t.token){e.next=8;break}return t.liking=!0,e.next=5,P()({method:"PATCH",url:"/api/posts/"+t.$route.params.postId+"/comments/"+t.comment._id+"/like",headers:{authorization:t.token}});case 5:s=e.sent,t.$emit("likeComment",{index:t.index,updatedComment:s.data}),t.liking=!1;case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t.liking=!1;case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()},updateComment:function(){var t=this;return y()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.body||!t.belongsToUser||t.saving){e.next=9;break}return t.saving=!0,e.next=5,P()({method:"PATCH",url:"/api/posts/"+t.$route.params.postId+"/comments/"+t.comment._id,headers:{authorization:t.token},data:{body:t.body}});case 5:s=e.sent,t.$emit("updateComment",{index:t.index,updatedComment:s.data}),t.saving=!1,t.edit=!1;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.saving=!1;case 14:case"end":return e.stop()}},e,t,[[0,11]])}))()},addReply:function(){var t=this;return y()(_.a.mark(function e(){var s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.replyBody||t.saving){e.next=10;break}return t.saving=!0,e.next=5,P()({method:"POST",url:"/api/posts/"+t.$route.params.postId+"/comments/"+t.comment._id,headers:{authorization:t.token},data:{body:t.replyBody}});case 5:s=e.sent,t.$emit("updateComment",{index:t.index,updatedComment:s.data}),t.saving=!1,t.replying=!1,t.replyBody="";case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t.saving=!1;case 15:case"end":return e.stop()}},e,t,[[0,12]])}))()},deleteComment:function(t){var e=this;return y()(_.a.mark(function s(){return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,e.deleting=!0,s.next=4,P()({method:"DELETE",url:"/api/posts/"+e.$route.params.postId+"/comments/"+e.comment._id,headers:{authorization:e.token}});case 4:e.$emit("removeComment",t),e.deleting=!1,s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),e.deleting=!1;case 11:case"end":return s.stop()}},s,e,[[0,8]])}))()},emitUpdateComment:function(t){var e=t.index,s=t.updatedComment;this.$emit("updateComment",{index:e,updatedComment:s})},removeReplyAtIndex:function(t){this.comment.replies.splice(t,1)}}},lt={render:function(){var t=this,e=this,s=e.$createElement,n=e._self._c||s;return n("div",{staticClass:"comment"},[n("header",[n("span",{staticClass:"username"},[e._v(e._s(e.comment.author.username))]),e._v(" "),n("span",{staticClass:"date"},[e._v(e._s(e.date))]),e._v(" "),n("font-awesome-icon",{staticClass:"sun",class:{spin:e.liking},attrs:{icon:"sun"},on:{click:e.likeComment}}),e._v(" "),n("span",{staticClass:"like-count"},[e._v(e._s(e.comment.likesCount))]),e._v(" "),e.belongsToUser?n("drop-down-menu",{staticClass:"control-menu",attrs:{controls:[{text:"Edit",action:function(){t.edit=!0,t.replying=!1},show:e.belongsToUser},{text:"Delete",action:function(){t.displayModal({message:"Are you sure you want to delete this comment?",btnText:"Delete",btnColor:"red",action:function(){return t.deleteComment(e.index)}})},show:e.belongsToUser}]}}):e._e(),e._v(" "),n("button",{staticClass:"reply-button",on:{click:function(t){e.replying=!0}}},[n("font-awesome-icon",{attrs:{icon:"reply"}}),e._v(" Reply\n    ")],1)],1),e._v(" "),n("main",[e.edit?n("text-area",{staticClass:"textarea",model:{value:e.body,callback:function(t){e.body=t},expression:"body"}}):e._e(),e._v(" "),e.edit?n("button",{staticClass:"btn border blue sm",on:{click:function(t){e.edit=!1}}},[e._v("\n      Cancel\n    ")]):e._e(),e._v(" "),e.edit?n("button",{staticClass:"btn border green sm",attrs:{disabled:e.saving},on:{click:e.updateComment}},[e.saving?n("Spinner",{staticClass:"btn-spinner green"}):e._e(),e._v("\n      Save\n    ")],1):n("div",{staticClass:"body"},[e._v(e._s(e.comment.body))]),e._v(" "),e.replying&!e.edit?n("text-area",{staticClass:"textarea",attrs:{placeholder:"Reply goes here..."},model:{value:e.replyBody,callback:function(t){e.replyBody=t},expression:"replyBody"}}):e._e(),e._v(" "),e.replying&!e.edit?n("button",{staticClass:"btn border blue sm",on:{click:function(t){e.replying=!1}}},[e._v("\n      Cancel\n    ")]):e._e(),e._v(" "),e.replying&!e.edit?n("button",{staticClass:"btn border green sm",attrs:{disabled:e.saving},on:{click:e.addReply}},[e.saving?n("Spinner",{staticClass:"btn-spinner green"}):e._e(),e._v("\n      Save\n    ")],1):e._e(),e._v(" "),e.showReplies?n("div",e._l(e.comment.replies,function(t,s){return n("reply",{key:t._id,attrs:{reply:t,index:s,commentIndex:e.index,token:e.token,commentId:e.comment._id,belongsToUser:t.author._id===e.userId,displayModal:e.displayModal},on:{updateComment:e.emitUpdateComment,removeReply:e.removeReplyAtIndex}})}),1):e._e()],1),e._v(" "),e.comment.replies&&e.comment.replies.length?n("button",{staticClass:"toggle-replies",on:{click:function(t){e.showReplies=!e.showReplies}}},[e._v("\n    "+e._s(e.showReplies?"Hide Replies":"Show Replies")+"\n  ")]):e._e()])},staticRenderFns:[]};var mt={name:"PostComments",components:{Comment:s("VU/8")(dt,lt,!1,function(t){s("UYhx")},"data-v-559322e6",null).exports},props:["comments"],computed:d()({},Object(l.c)(["token","user"])),methods:d()({},Object(l.b)(["displayModal"]),Object(l.d)(["updateCommentAtIndex"]),Object(l.d)(["removeCommentAtIndex"]))},pt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.comments?s("div",{staticClass:"comments"},t._l(t.comments,function(e,n){return s("Comment",{key:e._id,attrs:{comment:e,index:n,token:t.token,belongsToUser:t.user&&t.user._id===e.author._id,userId:t.user&&t.user._id,displayModal:t.displayModal},on:{likeComment:t.updateCommentAtIndex,updateComment:t.updateCommentAtIndex,removeComment:t.removeCommentAtIndex}})}),1):t._e()},staticRenderFns:[]};var vt=s("VU/8")(mt,pt,!1,function(t){s("6BD3")},"data-v-116b7718",null).exports,ht=s("Pu3l"),gt=s("7As1"),ft={name:"Editor",components:{EditorContent:ht.b,EditorMenuBar:ht.c},props:["content","editable","displayMenu"],data:function(){var t=this;return{editor:new ht.a({extensions:[new gt.a,new gt.c,new gt.d,new gt.e({levels:[1,2,3]}),new gt.g,new gt.j,new gt.k,new gt.m,new gt.n,new gt.i,new gt.b,new gt.h,new gt.l,new gt.o,new gt.f],content:this.content,editable:this.editable,onUpdate:function(e){var s=e.getHTML();t.$emit("input",s)}})}},beforeDestroy:function(){this.editor.destroy()},watch:{editable:function(){this.editor.setOptions({editable:this.editable}),this.editor.setContent(this.content),this.editor.focus("end")}}},bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editor"},[t.displayMenu?s("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.commands,o=e.isActive;return[s("div",{staticClass:"menubar"},[s("button",{staticClass:"menubar-button",class:{"is-active":o.bold()},on:{click:n.bold}},[s("font-awesome-icon",{attrs:{icon:"bold"}})],1),t._v(" "),s("button",{staticClass:"menubar-button",class:{"is-active":o.italic()},on:{click:n.italic}},[s("font-awesome-icon",{attrs:{icon:"italic"}})],1),t._v(" "),s("button",{staticClass:"menubar-button",class:{"is-active":o.strike()},on:{click:n.strike}},[s("font-awesome-icon",{attrs:{icon:"strikethrough"}})],1),t._v(" "),s("button",{staticClass:"menubar-button",class:{"is-active":o.underline()},on:{click:n.underline}},[s("font-awesome-icon",{attrs:{icon:"underline"}})],1),t._v(" "),s("button",{staticClass:"menubar-button",class:{"is-active":o.paragraph()},on:{click:n.paragraph}},[s("font-awesome-icon",{attrs:{icon:"paragraph"}})],1),t._v(" "),s("button",{staticClass:"menubar-button",class:{"is-active":o.heading({level:1})},on:{click:function(t){return n.heading({level:1})}}},[t._v("\n        H1\n      ")]),t._v(" "),s("button",{staticClass:"menubar-button",class:{"is-active":o.heading({level:2})},on:{click:function(t){return n.heading({level:2})}}},[t._v("\n        H2\n      ")]),t._v(" "),s("button",{staticClass:"menubar-button",class:{"is-active":o.heading({level:3})},on:{click:function(t){return n.heading({level:3})}}},[t._v("\n        H3\n      ")]),t._v(" "),s("button",{staticClass:"menubar-button",class:{"is-active":o.bullet_list()},on:{click:n.bullet_list}},[s("font-awesome-icon",{attrs:{icon:"list-ul"}})],1),t._v(" "),s("button",{staticClass:"menubar-button",class:{"is-active":o.ordered_list()},on:{click:n.ordered_list}},[s("font-awesome-icon",{attrs:{icon:"list-ol"}})],1),t._v(" "),s("button",{staticClass:"menubar-button",class:{"is-active":o.blockquote()},on:{click:n.blockquote}},[s("font-awesome-icon",{attrs:{icon:"quote-right"}})],1),t._v(" "),s("button",{staticClass:"menubar-button",on:{click:n.horizontal_rule}},[s("font-awesome-icon",{attrs:{icon:"grip-horizontal"}})],1),t._v(" "),s("button",{staticClass:"menubar-button",on:{click:n.undo}},[s("font-awesome-icon",{attrs:{icon:"undo"}})],1),t._v(" "),s("button",{staticClass:"menubar-button",on:{click:n.redo}},[s("font-awesome-icon",{attrs:{icon:"redo"}})],1)])]}}],null,!1,2843691729)}):t._e(),t._v(" "),s("editor-content",{staticClass:"editor-content",class:{focus:t.editor.view.focused&&t.editable,border:t.editable},attrs:{editor:t.editor}})],1)},staticRenderFns:[]};var Ct=s("VU/8")(ft,bt,!1,function(t){s("KPlA")},null,null).exports,_t={render:function(){var t=this.$createElement;return(this._self._c||t)("p",{staticClass:"notification"},[this._v(this._s(this.message))])},staticRenderFns:[]};var kt={name:"Post",components:{DropDownMenu:ot,Editor:Ct,ErrorMessage:G,FormInput:H,Notification:s("VU/8")({name:"Notification",props:["message"]},_t,!1,function(t){s("8ssE")},"data-v-56a5c00e",null).exports,Spinner:I},mounted:function(){this.getPost(this.$route.params.postId)},beforeDestroy:function(){this.setError("")},watch:{postFormBody:function(){this.setPostContentChanged(!0),this.setPostSaved(!1),this.setError("")},postFormTitle:function(){this.setPostContentChanged(!0),this.setPostSaved(!1),this.setError("")},isPostEditable:function(t){this.setPostContentChanged(!1),t||(this.setPostFormBody(this.post.body),this.setPostFormTitle(this.post.title))}},computed:d()({},Object(l.c)(["isLoggedIn","token","user","post","postFormTitle","postFormBody","isSavingPost","isPostSaved","isPostEditable","isLikingPost","isPostContentChanged"]),{date:function(){return j()(this.post.createdAt).format("MMMM D, YYYY")},displayEditorMenu:function(){return this.user&&this.post.author._id===this.user._id&&this.isPostEditable}}),methods:d()({},Object(l.b)(["getPost","likePost","updatePost","deletePost","displayModal"]),Object(l.d)(["setError","setPostEditable","setPostSaved","setPostContentChanged","setPostFormTitle","setPostFormBody"]),{toggleEdit:function(){this.setPostEditable(!this.isPostEditable)}})},yt={render:function(){var t=this,e=this,s=e.$createElement,n=e._self._c||s;return n("div",[e.isPostSaved?n("Notification",{attrs:{message:"Post changes were successfully saved."}}):e._e(),e._v(" "),n("error-message"),e._v(" "),e.post?n("div",{staticClass:"post"},[e.post?n("div",{staticClass:"post-header"},[n("div",{staticClass:"likes"},[n("font-awesome-icon",{staticClass:"sun",class:{spin:e.isLikingPost},attrs:{icon:"sun"},on:{click:e.likePost}}),e._v(" "),n("span",{staticClass:"like-count"},[e._v(e._s(e.post.likesCount))])],1),e._v(" "),n("div",{staticClass:"post-info"},[n("h3",[e._v(e._s(e.post.title))]),e._v(" "),n("span",{staticClass:"post-data"},[e._v(e._s(e.date)+" by "+e._s(e.post.author.username))])]),e._v(" "),n("div",{staticClass:"post-controls"},[e.user&&e.user._id===e.post.author._id?n("drop-down-menu",{staticClass:"control-menu",attrs:{controls:[{text:"Edit",action:e.toggleEdit,show:e.user&&e.user._id===e.post.author._id&&!e.isSavingPost},{text:"Delete",action:function(){t.displayModal({message:"Are you sure you want to delete this post?",btnText:"Delete",btnColor:"red",action:function(){return e.deletePost(t.post._id)}})},show:e.user&&e.user._id===e.post.author._id&&!e.isPostEditable}]}}):e._e()],1)]):e._e(),e._v(" "),n("div",{staticClass:"edit-form"},[e.isPostEditable?n("div",{staticClass:"form-row"},[n("label",{attrs:{for:"title"}},[e._v("Title:")]),e._v(" "),n("form-input",{attrs:{id:"title",value:e.postFormTitle},on:{input:e.setPostFormTitle}})],1):e._e(),e._v(" "),n("div",{staticClass:"form-row"},[e.isPostEditable?n("label",{attrs:{for:"body"}},[e._v("Body:")]):e._e(),e._v(" "),n("editor",{attrs:{content:e.postFormBody,editable:e.isPostEditable,displayMenu:e.displayEditorMenu},on:{input:e.setPostFormBody}})],1),e._v(" "),n("div",{staticClass:"form-row btn-group"},[e.isPostEditable?n("button",{staticClass:"btn border blue sm",on:{click:e.toggleEdit}},[e._v("\n          Cancel\n        ")]):e._e(),e._v(" "),e.isPostEditable?n("button",{staticClass:"btn border green sm",attrs:{disabled:!e.isPostContentChanged},on:{click:e.updatePost}},[e.isSavingPost?n("Spinner",{staticClass:"btn-spinner green"}):e._e(),e._v("\n          Save\n        ")],1):e._e()])])]):e._e()],1)},staticRenderFns:[]};var xt=s("VU/8")(kt,yt,!1,function(t){s("x3ME")},"data-v-62d904d2",null).exports,Pt={name:"Modal",computed:d()({},Object(l.c)(["modal","modalMessage","modalAction","modalBtnText","modalBtnColor"])),methods:d()({},Object(l.d)(["hideModal"]))},wt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.modal?s("div",{staticClass:"modal-container",on:{click:t.hideModal}},[s("div",{staticClass:"modal"},[s("p",[t._v(t._s(t.modalMessage))]),t._v(" "),s("div",[s("button",{staticClass:"btn blue",on:{click:t.hideModal}},[t._v("\n        Cancel\n      ")]),t._v(" "),s("button",{staticClass:"btn",class:{red:"red"===t.modalBtnColor},on:{click:t.modalAction}},[t._v("\n        "+t._s(t.modalBtnText)+"\n      ")])])])]):t._e()},staticRenderFns:[]};var jt={name:"PostPage",components:{Post:xt,PostComments:vt,FormInput:H,Modal:s("VU/8")(Pt,wt,!1,function(t){s("9rFO")},"data-v-6e0a38fd",null).exports,TextArea:it,Spinner:I},mounted:function(){this.getPostComments(this.$route.params.postId),this.scroll()},beforeDestroy:function(){this.resetPost(),this.hideModal()},watch:{isCreatingComment:function(){this.setCommentFormBody(""),this.setError("")},commentFormBody:function(){this.setCommentSaved(!1)}},computed:d()({},Object(l.c)(["isCreatingComment","commentFormBody","isSavingComment","token","comments"])),methods:d()({},Object(l.b)(["resetPost","createComment","getPostComments"]),Object(l.d)(["toggleCreatingComment","setCommentFormBody","setCommentSaved","setError","hideModal"]),{scroll:function(){var t=this,e=document.getElementById("page");e.onscroll=function(){1.25*e.clientHeight+e.scrollTop>=e.scrollHeight&&t.getPostComments(t.$route.params.postId)}}})},Et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"page"}},[s("div",{staticClass:"container"},[s("modal"),t._v(" "),s("Post"),t._v(" "),s("div",{staticClass:"comment-controls"},[s("nav",{staticClass:"secondary-nav",class:{shadow:t.isCreatingComment}},[s("span",{staticClass:"brand"},[t._v("Comments")]),t._v(" "),t.token&&!t.isCreatingComment?s("button",{staticClass:"btn green border sm",on:{click:t.toggleCreatingComment}},[t._v("\n          New Comment\n        ")]):t._e()]),t._v(" "),t.isCreatingComment?s("div",{staticClass:"form"},[s("text-area",{attrs:{value:t.commentFormBody,placeholder:"Comment goes here..."},on:{input:t.setCommentFormBody}}),t._v(" "),s("div",{staticClass:"btn-group"},[t.token&&t.isCreatingComment?s("button",{staticClass:"btn blue border sm",on:{click:t.toggleCreatingComment}},[t._v("\n            Cancel\n          ")]):t._e(),t._v(" "),t.token&&t.isCreatingComment?s("button",{staticClass:"btn green border sm",attrs:{disabled:t.isSavingComment},on:{click:t.createComment}},[t.isSavingComment?s("Spinner",{staticClass:"btn-spinner green"}):t._e(),t._v("\n            Add Comment\n          ")],1):t._e()])],1):t._e()]),t._v(" "),s("PostComments",{attrs:{comments:t.comments}})],1)])},staticRenderFns:[]};var St=s("VU/8")(jt,Et,!1,function(t){s("vMHH")},"data-v-594fa3cb",null).exports,Ft={name:"CreatePost",components:{Editor:Ct,ErrorMessage:G,FormInput:H,Spinner:I},beforeDestroy:function(){this.setError(""),this.resetPost("")},watch:{title:function(){this.setError("")},content:function(){this.setError("")}},computed:d()({},Object(l.c)(["token","isSavingPost","postFormTitle","postFormBody"])),methods:d()({},Object(l.b)(["createPost","resetPost"]),Object(l.d)(["setError","setPostFormTitle","setPostFormBody"]))},Mt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"page"}},[s("div",{staticClass:"container"},[s("error-message"),t._v(" "),s("div",{staticClass:"create-form-container"},[t._m(0),t._v(" "),s("div",{staticClass:"create-form"},[s("div",{staticClass:"form-row"},[s("label",{attrs:{for:"title"}},[t._v("Title:")]),t._v(" "),s("form-input",{attrs:{id:"title",value:t.postFormTitle},on:{input:t.setPostFormTitle}})],1),t._v(" "),s("div",{staticClass:"form-row"},[s("label",{attrs:{for:"body"}},[t._v("Body:")]),t._v(" "),s("editor",{attrs:{content:t.postFormBody,editable:!0,displayMenu:!0,id:"body"},on:{input:t.setPostFormBody}}),t._v(" "),s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn border green sm",on:{click:function(e){return t.createPost(t.$route.params.category)}}},[t.isSavingPost?s("spinner",{staticClass:"btn-spinner green"}):t._e(),t._v(" Create\n            ")],1)])],1)])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("nav",{staticClass:"secondary-nav"},[e("span",{staticClass:"brand"},[this._v("Create Post")])])])}]};var It=s("VU/8")(Ft,Mt,!1,function(t){s("Edg+")},"data-v-86324fae",null).exports;c.a.use(b.a);var Lt,Tt,Ut,Bt,At,zt,Rt,Ot=new b.a({mode:"history",routes:[{path:"/",component:A},{path:"/login",component:$,children:[{path:"",component:K}]},{path:"/signup",component:$,children:[{path:"",component:Q}]},{path:"/posts/category/:category",component:st},{path:"/posts/category/:category/create",component:It},{path:"/posts/:postId",component:St}]}),Dt=this,$t={login:(Ut=y()(_.a.mark(function t(e,s){var n,o=e.commit,a=s.username,r=s.password;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a&&r){t.next=5;break}o("setError","Must provide username and password."),t.next=18;break;case 5:if(!(a.length>25)){t.next=9;break}o("setError","Username must be 25 characters or less."),t.next=18;break;case 9:return o("setAuthLoading",!0),t.next=12,P()({method:"POST",url:"/api/sessions",data:{username:a,password:r}});case 12:n=t.sent,localStorage.setItem("bbmb-token",n.data.token),o("setToken",n.data.token),o("setUser",n.data.user),o("setAuthLoading",!1),Ot.push("/");case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(0),401===t.t0.response.status?o("setError","Invalid log in credentials."):o("setError","Something went wrong while logging in."),o("setAuthLoading",!1);case 24:case"end":return t.stop()}},t,Dt,[[0,20]])})),function(t,e){return Ut.apply(this,arguments)}),logout:function(t){var e=t.commit;localStorage.removeItem("bbmb-token"),e("setToken",null),e("setUser",null)},signup:(Tt=y()(_.a.mark(function t(e,s){var n,o=e.commit,a=s.username,r=s.password,i=s.confirmPassword;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a&&r){t.next=5;break}o("setError","Must provide username and password."),t.next=22;break;case 5:if(!(a.length>25)){t.next=9;break}o("setError","Username must be 25 characters or less."),t.next=22;break;case 9:if(r===i){t.next=13;break}o("setError","Password does not match confirmation."),t.next=22;break;case 13:return o("setAuthLoading",!0),t.next=16,P()({method:"POST",url:"/api/users",data:{username:a,password:r}});case 16:n=t.sent,localStorage.setItem("bbmb-token",n.data.token),o("setToken",n.data.token),o("setUser",n.data.user),o("setAuthLoading",!1),Ot.push("/");case 22:t.next=28;break;case 24:t.prev=24,t.t0=t.catch(0),o("setError",t.t0.response.data.message),o("setAuthLoading",!1);case 28:case"end":return t.stop()}},t,Dt,[[0,24]])})),function(t,e){return Tt.apply(this,arguments)}),getCurrentUser:(Lt=y()(_.a.mark(function t(e){var s,n=e.commit,o=e.state;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!o.authenticated){t.next=6;break}return t.next=4,P()({method:"GET",url:"/api/users",headers:{authorization:o.authenticated}});case 4:s=t.sent,n("setUser",s.data.user);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n("setUser",null);case 11:case"end":return t.stop()}},t,Dt,[[0,8]])})),function(t){return Lt.apply(this,arguments)})},Nt={state:{authenticated:localStorage.getItem("bbmb-token"),user:null,isLoading:!1},getters:{isLoggedIn:function(t){return!!t.authenticated},user:function(t){return t.user},isAuthLoading:function(t){return t.isLoading},token:function(t){return t.authenticated}},actions:$t,mutations:{setToken:function(t,e){t.authenticated=e},setUser:function(t,e){t.user=e},setAuthLoading:function(t,e){t.isLoading=e}}},Vt={state:{error:""},getters:{error:function(t){return t.error}},actions:{},mutations:{setError:function(t,e){t.error=e}}},Ht=s("Gu7T"),qt=s.n(Ht),Yt=this,Gt={state:{posts:[],page:0,nextPage:!0,loading:!1},getters:{posts:function(t){return t.posts},isLoading:function(t){return t.loading}},actions:{getPosts:function(){var t=y()(_.a.mark(function t(e,s){var n,o=e.commit,a=e.state;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.loading||!a.nextPage){t.next=10;break}return o("setLoading",!0),t.next=5,P()({method:"GET",url:"/api/posts/category/"+s,params:{page:a.page+1}});case 5:n=t.sent,o("pushToPosts",n.data.posts),o("setNextPage",n.data.nextPage),o("incrementPage"),o("setLoading",!1);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),o("setLoading",!1);case 15:case"end":return t.stop()}},t,Yt,[[0,12]])}));return function(e,s){return t.apply(this,arguments)}}(),resetPostsData:function(t){var e=t.commit;e("emptyPosts"),e("setPage",0),e("setNextPage",!0)}},mutations:{pushToPosts:function(t,e){t.posts=[].concat(qt()(t.posts),qt()(e))},emptyPosts:function(t){t.posts=[]},setLoading:function(t,e){t.loading=e},incrementPage:function(t){t.page+=1},setPage:function(t,e){t.page=e},setNextPage:function(t,e){t.nextPage=e},updatePostAtIndex:function(t,e){var s=e.index,n=e.updatedPost;t.posts.splice(s,1,n)},removePostAtIndex:function(t,e){var s=t.posts.findIndex(function(t){return t._id===e});t.posts.splice(s,1)}}},Wt=this,Xt={state:{data:!1,form:{title:"",content:""},status:{saving:!1,saved:!1,contentChanged:!1,liking:!1,editable:!1,deleting:!1},comments:{list:[],page:0,nextPage:!0,status:{loading:!1,creating:!1,saving:!1,saved:!1,liking:!1},form:{body:""}}},getters:{post:function(t){return t.data},comments:function(t){return t.comments.list},postFormTitle:function(t){return t.form.title},postFormBody:function(t){return t.form.content},isSavingPost:function(t){return t.status.saving},isPostSaved:function(t){return t.status.saved},isPostEditable:function(t){return t.status.editable},isLikingPost:function(t){return t.status.liking},isDeletingPost:function(t){return t.status.deleting},isPostContentChanged:function(t){return t.status.contentChanged},commentFormBody:function(t){return t.comments.form.body},isCreatingComment:function(t){return t.comments.status.creating},isSavingComment:function(t){return t.comments.status.saving},isCommentSaved:function(t){return t.comments.status.saved},isLikingComment:function(t){return t.comments.status.liking}},actions:{getPost:function(){var t=y()(_.a.mark(function t(e,s){var n,o=e.commit;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o("setPostLoading",!0),t.next=4,P()({method:"GET",url:"/api/posts/"+s});case 4:n=t.sent,o("setPostFormTitle",n.data.title),o("setPostFormBody",n.data.body),o("setPost",n.data),o("setPostLoading",!1),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),o("setPostLoading",!1);case 14:case"end":return t.stop()}},t,Wt,[[0,11]])}));return function(e,s){return t.apply(this,arguments)}}(),getPostComments:(Rt=y()(_.a.mark(function t(e,s){var n,o=e.commit,a=e.state;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.comments.status.loading||!a.comments.nextPage){t.next=10;break}return o("setCommentsLoading",!0),t.next=5,P()({method:"GET",url:"/api/posts/"+s+"/comments",params:{page:a.comments.page+1}});case 5:n=t.sent,o("setCommentsNextPage",n.data.nextPage),o("incrementCommentsPage"),o("addToCommentsList",n.data.comments),o("setCommentsLoading",!1);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),o("setCommentsLoading",!1);case 15:case"end":return t.stop()}},t,Wt,[[0,12]])})),function(t,e){return Rt.apply(this,arguments)}),createPost:function(){var t=y()(_.a.mark(function t(e,s){var n,o,a,r,i=e.commit,c=e.state,u=e.rootState;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=c.form,o=n.content,a=n.title,o&&a){t.next=6;break}i("setError","Must provide a title and a body."),t.next=11;break;case 6:return i("setPostSaving",!0),t.next=9,P()({method:"POST",url:"/api/posts",headers:{authorization:u.auth.authenticated},data:{title:a,body:o,category:s}});case 9:r=t.sent,Ot.push("/posts/"+r.data._id);case 11:i("setPostSaving",!1),i("setPostFormTitle",""),i("setPostFormBody",""),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),i("setError",t.t0.response.data.message),i("setPostSaving",!1);case 20:case"end":return t.stop()}},t,Wt,[[0,16]])}));return function(e,s){return t.apply(this,arguments)}}(),updatePost:(zt=y()(_.a.mark(function t(e){var s,n,o,a,r=e.commit,i=e.state,c=e.rootState;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,s=i.form,n=s.content,o=s.title,n&&o){t.next=6;break}r("setError","Must provide a title and a body."),t.next=14;break;case 6:return r("setPostSaving",!0),t.next=9,P()({method:"PATCH",url:"/api/posts/"+i.data._id,headers:{authorization:c.auth.authenticated},data:{title:o,body:n}});case 9:a=t.sent,r("setPost",a.data),r("setPostSaved",!0),r("setPostEditable",!1),r("setPostSaving",!1);case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),r("setError",t.t0.response.data.message),r("setPostSaving",!1);case 20:case"end":return t.stop()}},t,Wt,[[0,16]])})),function(t){return zt.apply(this,arguments)}),likePost:(At=y()(_.a.mark(function t(e){var s,n=e.commit,o=e.state,a=e.rootState;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o.status.liking||!a.auth.authenticated){t.next=9;break}return n("setPostLiking",!0),t.next=6,P()({method:"PATCH",url:"/api/posts/"+o.data._id+"/like",headers:{authorization:a.auth.authenticated}});case 6:s=t.sent,n("setPost",s.data),n("setPostLiking",!1);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n("setPostLiking",!1);case 14:case"end":return t.stop()}},t,Wt,[[0,11]])})),function(t){return At.apply(this,arguments)}),deletePost:function(t,e){var s=this,n=t.commit,o=t.state,a=t.rootState;return y()(_.a.mark(function t(){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n("setPostDeleting",!0),t.next=4,P()({method:"DELETE",url:"/api/posts/"+o.data._id,headers:{authorization:a.auth.authenticated}});case 4:n("setPostDeleting",!1),n("removePostAtIndex",e),Ot.push("/posts/category/"+o.data.category),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n("setPostDeleting",!1);case 12:case"end":return t.stop()}},t,s,[[0,9]])}))()},resetPost:function(t){var e=t.commit;e("setPostLoading",!1),e("setPostFormTitle",""),e("setPostFormBody",""),e("setPost",!1),e("setPostLiking",!1),e("setPostSaving",!1),e("setPostSaved",!1),e("setPostEditable",!1),e("setCommentsLoading",!1),e("clearCommentsList"),e("setCreatingComment",!1),e("setCommentFormBody",""),e("setCommentSaved",!1),e("setSavingComment",!1),e("setCommentsPage",0),e("setCommentsNextPage",!0)},createComment:(Bt=y()(_.a.mark(function t(e){var s,n=e.commit,o=e.state,a=e.rootState;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o.comments.form.body){t.next=5;break}n("setError","Must provide a body."),t.next=15;break;case 5:if(!a.auth.authenticated){t.next=15;break}return n("setSavingComment",!0),t.next=9,P()({method:"POST",url:"/api/posts/"+o.data._id+"/comments",data:{body:o.comments.form.body},headers:{authorization:a.auth.authenticated}});case 9:s=t.sent,n("addToCommentsList",[s.data]),n("setCommentFormBody",""),n("toggleCreatingComment"),n("setCommentSaved",!0),n("setSavingComment",!1);case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),n("setSavingComment",!1),n("setError",t.t0.response.data.message);case 21:case"end":return t.stop()}},t,Wt,[[0,17]])})),function(t){return Bt.apply(this,arguments)})},mutations:{setPost:function(t,e){t.data=e},setPostLoading:function(t,e){t.status.loading=e},setPostSaving:function(t,e){t.status.saving=e},setPostSaved:function(t,e){t.status.saved=e},setPostContentChanged:function(t,e){t.status.contentChanged=e},setPostEditable:function(t,e){t.status.editable=e},setPostLiking:function(t,e){t.status.liking=e},setPostDeleting:function(t,e){t.status.deleting=e},setPostFormTitle:function(t,e){t.form.title=e},setPostFormBody:function(t,e){t.form.content=e},setCommentsLoading:function(t,e){t.comments.status.loading=e},addToCommentsList:function(t,e){t.comments.list=[].concat(qt()(t.comments.list),qt()(e))},clearCommentsList:function(t){t.comments.list=[]},toggleCreatingComment:function(t){t.comments.status.creating=!t.comments.status.creating},setCreatingComment:function(t,e){t.comments.status.creating=e},setCommentFormBody:function(t,e){t.comments.form.body=e},setCommentSaved:function(t,e){t.comments.status.saved=e},setCommentLiking:function(t,e){t.comments.status.liking=e},setSavingComment:function(t,e){t.comments.status.saving=e},updateCommentAtIndex:function(t,e){var s=e.index,n=e.updatedComment;t.comments.list.splice(s,1,n)},removeCommentAtIndex:function(t,e){t.comments.list.splice(e,1)},incrementCommentsPage:function(t){t.comments.page+=1},setCommentsPage:function(t,e){t.comments.page=e},setCommentsNextPage:function(t,e){t.comments.nextPage=e}}},Kt={state:{show:!1,message:"",action:null,btnText:""},getters:{modal:function(t){return t.show},modalMessage:function(t){return t.message},modalBtnText:function(t){return t.btnText},modalBtnColor:function(t){return t.btnColor},modalAction:function(t){return t.action}},actions:{displayModal:function(t,e){var s=t.commit,n=e.message,o=e.btnText,a=e.btnColor,r=e.action;s("showModal"),s("setMessage",n),s("setBtnText",o),s("setBtnColor",a),s("setAction",r)}},mutations:{showModal:function(t){t.show=!0},hideModal:function(t){t.show=!1},setMessage:function(t,e){t.message=e},setBtnText:function(t,e){t.btnText=e},setBtnColor:function(t,e){t.btnColor=e},setAction:function(t,e){t.action=e}}};c.a.use(l.a);var Zt=new l.a.Store({modules:{auth:Nt,error:Vt,post:Xt,posts:Gt,modal:Kt}});n.c.add(o.n,o.a,o.f,o.m,o.p,o.i,o.h,o.g,o.j,o.e,o.q,o.k,o.b,o.l,o.c,o.o,o.d),c.a.component("font-awesome-icon",a.a),c.a.use(i.a,{preLoad:1.3,error:"/static/images/auth/error.png",loading:"/static/images/auth/loading.gif",attempt:1});var Jt=void 0;c.a.directive("closable",{bind:function(t,e,s){Jt=function(n){n.stopPropagation();var o=e.value,a=o.handler,r=!1;o.exclude.forEach(function(t){if(!r){var e=s.context.$refs[t];r=e.contains(n.target)}}),t.contains(n.target)||r||s.context[a]()},document.addEventListener("click",Jt),document.addEventListener("touchstart",Jt)},unbind:function(){document.removeEventListener("click",Jt),document.removeEventListener("touchstart",Jt)}}),c.a.config.productionTip=!1,new c.a({el:"#app",router:Ot,store:Zt,components:{App:f},template:"<App/>"})},"OW9/":function(t,e){},OuCD:function(t,e){},RTw8:function(t,e){},UYhx:function(t,e){},Xzzc:function(t,e){},ZbrP:function(t,e){},bSld:function(t,e){},hAGL:function(t,e){},mNyf:function(t,e){},uMhA:function(t,e){},uslO:function(t,e,s){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function o(t){return s(a(t))}function a(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id="uslO"},vMHH:function(t,e){},wZbz:function(t,e){},x3ME:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f1f8ec356a90888ea664.js.map